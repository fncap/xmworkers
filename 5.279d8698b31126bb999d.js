(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/2RN":function(t,n,s){"use strict";s.r(n),s.d(n,"DashboardPageModule",function(){return B});var e=s("ofXK"),r=s("tyNb"),a=s("j1ZV"),b=s("fXoL"),c=s("pMdk"),i=s("tjLH"),l=s("owMh"),o=s("OuSN"),u=s("6NWb"),m=s("QI0v"),d=s("JMRq");function g(t,n){if(1&t){const t=b.Rb();b.Qb(0,"div",3),b.Mb(1,"fa-icon",4),b.yc(2," No workers found, "),b.Qb(3,"a",5),b.ac("click",function(){return b.rc(t),b.cc().openAddModal()}),b.yc(4,"add"),b.Pb(),b.yc(5," at least one. "),b.Pb()}}function y(t,n){if(1&t&&(b.Qb(0,"div",11),b.Qb(1,"small",12),b.yc(2),b.Pb(),b.Mb(3,"br"),b.Mb(4,"hashrate",23),b.Pb()),2&t){const t=n.$implicit,s=n.index,e=b.cc(2);b.zb(2),b.zc(t),b.zb(2),b.ic("value",e.sum(s))}}function f(t,n){if(1&t&&(b.Qb(0,"div",24),b.Mb(1,"fa-icon",4),b.yc(2),b.Qb(3,"a",25),b.yc(4,"https://github.com/xmrig/xmrig/releases"),b.Pb(),b.yc(5,". "),b.Pb()),2&t){const t=b.cc(2);b.zb(2),b.Ac(" XMRig v",t.runtime.latest," available to download at ")}}function h(t,n){if(1&t&&(b.Qb(0,"div",11),b.Qb(1,"small",12),b.yc(2),b.Pb(),b.Mb(3,"br"),b.Mb(4,"hashrate",23),b.Pb()),2&t){const t=n.$implicit,s=n.index,e=b.cc(2).$implicit;b.zb(2),b.zc(t),b.zb(2),b.ic("value",null==e||null==e.summary||null==e.summary.hashrate?null:e.summary.hashrate.total[s])}}const v=function(){return["10s","1m","15m"]};function p(t,n){if(1&t&&(b.Qb(0,"td",9),b.Qb(1,"div",33),b.wc(2,h,5,2,"div",14),b.Qb(3,"div",11),b.Qb(4,"small",12),b.yc(5,"highest"),b.Pb(),b.Mb(6,"br"),b.Mb(7,"hashrate",15),b.Pb(),b.Pb(),b.Pb()),2&t){const t=b.cc().$implicit;b.zb(2),b.ic("ngForOf",b.lc(2,v)),b.zb(5),b.ic("value",null==t||null==t.summary||null==t.summary.hashrate?null:t.summary.hashrate.highest)}}function P(t,n){1&t&&(b.Qb(0,"td"),b.Qb(1,"span",34),b.yc(2,"n/a"),b.Pb(),b.Pb())}function Q(t,n){if(1&t&&(b.Qb(0,"td",9),b.Qb(1,"div",33),b.Qb(2,"div",11),b.Qb(3,"small",12),b.yc(4,"count"),b.Pb(),b.Mb(5,"br"),b.Qb(6,"span",13),b.yc(7),b.Pb(),b.yc(8,"/"),b.Qb(9,"span",13),b.yc(10),b.Pb(),b.Pb(),b.Qb(11,"div"),b.Qb(12,"small",12),b.yc(13,"avg time"),b.Pb(),b.Mb(14,"br"),b.Qb(15,"span",13),b.yc(16),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&t){const t=b.cc().$implicit;b.zb(6),b.Db("badge-success",t.summary.results.shares_good)("badge-info",!t.summary.results.shares_good),b.zb(1),b.zc(t.summary.results.shares_good),b.zb(2),b.Db("badge-success",!(t.summary.results.shares_total-t.summary.results.shares_good))("badge-danger",t.summary.results.shares_total-t.summary.results.shares_good),b.zb(1),b.zc(t.summary.results.shares_total-t.summary.results.shares_good),b.zb(5),b.Db("badge-info",0===t.summary.results.avg_time||t.summary.results.avg_time>=10&&t.summary.results.avg_time<=120)("badge-warning",t.summary.results.avg_time>0&&(t.summary.results.avg_time<10||t.summary.results.avg_time>120)),b.zb(1),b.zc(0===t.summary.results.avg_time?"n/a":t.summary.results.avg_time+"s")}}function w(t,n){1&t&&(b.Qb(0,"td"),b.Qb(1,"span",34),b.yc(2,"n/a"),b.Pb(),b.Pb())}function k(t,n){if(1&t&&(b.Qb(0,"span",38),b.yc(1),b.Pb()),2&t){const t=b.cc(2).$implicit;b.zb(1),b.zc(t.summary.connection.tls)}}function z(t,n){if(1&t&&(b.Qb(0,"td",9),b.Qb(1,"b"),b.yc(2),b.Pb(),b.Mb(3,"br"),b.wc(4,k,2,1,"span",35),b.Qb(5,"small",36),b.yc(6,"diff"),b.Pb(),b.Qb(7,"span",37),b.yc(8),b.Pb(),b.Pb()),2&t){const t=b.cc().$implicit;b.zb(2),b.zc(t.summary.connection.pool),b.zb(2),b.ic("ngIf",!(null==t.summary.connection||!t.summary.connection.tls)),b.zb(4),b.zc(t.summary.connection.diff)}}function x(t,n){1&t&&(b.Qb(0,"td"),b.Qb(1,"span",34),b.yc(2,"n/a"),b.Pb(),b.Pb())}function M(t,n){1&t&&(b.Qb(0,"button",39),b.Mb(1,"fa-icon",40),b.Pb()),2&t&&(b.zb(1),b.ic("spin",!0))}function I(t,n){if(1&t){const t=b.Rb();b.Qb(0,"button",43),b.ac("click",function(){b.rc(t);const n=b.cc(2).$implicit;return b.cc(2).actions(n,1)}),b.Mb(1,"fa-icon",44),b.Pb()}}function _(t,n){if(1&t){const t=b.Rb();b.Qb(0,"button",45),b.ac("click",function(){b.rc(t);const n=b.cc(2).$implicit;return b.cc(2).actions(n,2)}),b.Mb(1,"fa-icon",46),b.Pb()}}function C(t,n){if(1&t&&(b.wc(0,I,2,0,"button",41),b.wc(1,_,2,0,"button",42)),2&t){const t=b.cc().$implicit;b.ic("ngIf",!(null!=t&&null!=t.summary&&t.summary.paused)),b.zb(1),b.ic("ngIf",null==t||null==t.summary?null:t.summary.paused)}}function A(t,n){if(1&t){const t=b.Rb();b.Qb(0,"tr"),b.Qb(1,"td",9),b.Qb(2,"div"),b.Qb(3,"a",26),b.ac("click",function(){b.rc(t);const s=n.$implicit;return b.cc(2).openWorker(s)}),b.yc(4),b.Pb(),b.Pb(),b.Qb(5,"div"),b.Qb(6,"span",27),b.yc(7),b.Pb(),b.Qb(8,"span",28),b.yc(9),b.Pb(),b.Qb(10,"span",29),b.yc(11),b.Pb(),b.Qb(12,"small",12),b.yc(13),b.Pb(),b.Pb(),b.Pb(),b.wc(14,p,8,3,"td",30),b.wc(15,P,3,0,"td",31),b.wc(16,Q,17,15,"td",30),b.wc(17,w,3,0,"td",31),b.wc(18,z,9,3,"td",30),b.wc(19,x,3,0,"td",31),b.Qb(20,"td",9),b.wc(21,M,2,1,"button",32),b.wc(22,C,2,2,"ng-template",2),b.Pb(),b.Pb()}if(2&t){const t=n.$implicit,s=b.cc(2);b.Db("table-danger",2===t.status)("table-warning",1===t.status||t.paused),b.zb(4),b.zc(t.id),b.zb(3),b.zc("miner"!==(null==t||null==t.summary?null:t.summary.kind)?null==t||null==t.summary?null:t.summary.kind:""),b.zb(1),b.Db("badge-warning",!!s.runtime.latest&&t.version!==s.runtime.latest),b.zb(1),b.zc(t.version),b.zb(2),b.zc(null==t||null==t.summary?null:t.summary.algo),b.zb(2),b.zc(t.url.replace("http://","")),b.zb(1),b.ic("ngIf",!(null==t||null==t.summary||!t.summary.hashrate)),b.zb(1),b.ic("ngIf",!(null!=t&&null!=t.summary&&t.summary.hashrate)),b.zb(1),b.ic("ngIf",!(null==t||null==t.summary||!t.summary.results)),b.zb(1),b.ic("ngIf",!(null!=t&&null!=t.summary&&t.summary.results)),b.zb(1),b.ic("ngIf",!(null==t||null==t.summary||!t.summary.connection)&&(null==t||null==t.summary||null==t.summary.connection?null:t.summary.connection.uptime)>0),b.zb(1),b.ic("ngIf",!(null!=t&&null!=t.summary&&t.summary.connection)||0===(null==t||null==t.summary||null==t.summary.connection?null:t.summary.connection.uptime)),b.zb(2),b.ic("ngIf",!(null!=t&&t.summary)||!0===(null==t?null:t.actionsLoading)),b.zb(1),b.ic("ngIf",!(null==t||!t.summary||null!=t&&t.actionsLoading&&!1!==(null==t?null:t.actionsLoading)))}}const $=function(){return["10s sum.","1m sum.","15m sum."]};function F(t,n){if(1&t){const t=b.Rb();b.Qb(0,"div",6),b.Qb(1,"div",7),b.Qb(2,"table",8),b.Qb(3,"tbody"),b.Qb(4,"tr"),b.Qb(5,"td",9),b.Qb(6,"div",10),b.Qb(7,"div",11),b.Qb(8,"small",12),b.yc(9,"workers"),b.Pb(),b.Mb(10,"br"),b.Qb(11,"b"),b.yc(12),b.Qb(13,"span",13),b.yc(14),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(15,"td",9),b.Qb(16,"div",10),b.wc(17,y,5,2,"div",14),b.Qb(18,"div",11),b.Qb(19,"small",12),b.yc(20,"highest"),b.Pb(),b.Mb(21,"br"),b.Mb(22,"hashrate",15),b.Pb(),b.Pb(),b.Pb(),b.Qb(23,"td",9),b.Qb(24,"div",10),b.Qb(25,"div",11),b.Qb(26,"small",12),b.yc(27,"count"),b.Pb(),b.Mb(28,"br"),b.Qb(29,"span",13),b.yc(30),b.Pb(),b.yc(31,"/"),b.Qb(32,"span",13),b.yc(33),b.Pb(),b.Pb(),b.Qb(34,"div"),b.Qb(35,"small",12),b.yc(36,"avg time"),b.Pb(),b.Mb(37,"br"),b.Qb(38,"span",13),b.yc(39),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.wc(40,f,6,1,"div",16),b.Qb(41,"div",17),b.Qb(42,"div",7),b.Qb(43,"table",18),b.Qb(44,"thead"),b.Qb(45,"tr"),b.Qb(46,"th",19),b.yc(47,"Workers"),b.Pb(),b.Qb(48,"th",19),b.yc(49,"Hashrate"),b.Pb(),b.Qb(50,"th",19),b.yc(51,"Results"),b.Pb(),b.Qb(52,"th",19),b.yc(53,"Pool"),b.Pb(),b.Qb(54,"th",19),b.Qb(55,"button",20),b.ac("click",function(){return b.rc(t),b.cc().runtime.getWorkers()}),b.Mb(56,"fa-icon",21),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(57,"tbody"),b.wc(58,A,23,19,"ng-template",22),b.dc(59,"orderBy"),b.Pb(),b.Pb(),b.Pb(),b.Pb()}if(2&t){const t=b.cc();b.zb(11),b.Db("text-danger",0===t.workersCount())("text-warning",t.workersCount()>0&&t.workersCount()!==t.runtime.workers.length)("text-success",t.workersCount()>0&&t.workersCount()===t.runtime.workers.length),b.zb(1),b.Bc(" ",t.workersCount(),"/",t.runtime.workers.length," "),b.zb(1),b.Db("badge-danger",0===t.workersCount())("badge-warning",t.workersCount()>0&&t.workersCount()!==t.runtime.workers.length)("badge-success",t.workersCount()>0&&t.workersCount()===t.runtime.workers.length),b.zb(1),b.Ac("",(t.workersCount()/t.runtime.workers.length*100).toFixed(0),"%"),b.zb(3),b.ic("ngForOf",b.lc(38,$)),b.zb(5),b.ic("value",t.sum(-1)),b.zb(7),b.Db("badge-success",t.resultsGood())("badge-info",!t.resultsGood()),b.zb(1),b.zc(t.resultsGood()),b.zb(2),b.Db("badge-success",!t.resultsBad())("badge-danger",t.resultsBad()),b.zb(1),b.zc(t.resultsBad()),b.zb(5),b.Db("badge-info",0===t.resultsAvg()||t.resultsAvg()>=10&&t.resultsAvg()<=120)("badge-warning",t.resultsAvg()>0&&(t.resultsAvg()<10||t.resultsAvg()>120)),b.zb(1),b.zc(0===t.resultsAvg()?"n/a":t.resultsAvg().toFixed(0)+"s"),b.zb(1),b.ic("ngIf",t.runtime.checkOutdate()),b.zb(18),b.ic("ngForOf",b.fc(59,35,t.runtime.workers,"id"))("ngForTrackBy",t.workerTrackBy)}}const L=[{path:"",component:(()=>{class t{constructor(t,n,s,e,r){this.api=t,this.router=n,this.events=s,this.runtime=e,this.g=r}ngOnInit(){}openWorker(t){this.runtime.viewing=t,this.router.navigateByUrl(`/worker/${encodeURIComponent(t.url)}`)}openAddModal(){this.events.publish("modal:add")}workerTrackBy(t,n){return n.url}actions(t,n){switch(n){case 1:case 2:t.actionsLoading=!0,this.api.call(`${t.url}/json_rpc`,t.token,{method:1===n?"pause":"resume"}).then(()=>{t.summary.paused=1===n,this.g.toast("Action performed.","Success!","success")},t=>{this.g.toast("Can't perform this action.","Oh!","error")}).finally(()=>t.actionsLoading=!1)}}sum(t){var n,s,e,r,a,b;let c=0;for(const i of this.runtime.workers)-1===t?(null===(s=null===(n=i.summary)||void 0===n?void 0:n.hashrate)||void 0===s?void 0:s.highest)>c&&(c=null===(r=null===(e=i.summary)||void 0===e?void 0:e.hashrate)||void 0===r?void 0:r.highest):c+=(null===(b=null===(a=i.summary)||void 0===a?void 0:a.hashrate)||void 0===b?void 0:b.total[t])||0;return c}workersCount(){return this.runtime.workers.filter(t=>!!t.summary&&!t.summary.paused).length}resultsGood(){var t,n;let s=0;for(const e of this.runtime.workers)s+=(null===(n=null===(t=e.summary)||void 0===t?void 0:t.results)||void 0===n?void 0:n.shares_good)||0;return s}resultsBad(){var t,n,s,e;let r=0;for(const a of this.runtime.workers)r+=((null===(n=null===(t=a.summary)||void 0===t?void 0:t.results)||void 0===n?void 0:n.shares_total)||0)-((null===(e=null===(s=a.summary)||void 0===s?void 0:s.results)||void 0===e?void 0:e.shares_good)||0);return r}resultsAvg(){var t,n,s;let e=0;for(const r of this.runtime.workers)(null===(t=r.summary)||void 0===t?void 0:t.paused)||(e+=(null===(s=null===(n=r.summary)||void 0===n?void 0:n.results)||void 0===s?void 0:s.avg_time)||0);return 0===e?0:e/this.workersCount()}}return t.\u0275fac=function(n){return new(n||t)(b.Lb(c.a),b.Lb(r.c),b.Lb(i.a),b.Lb(l.a),b.Lb(o.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-dashboard"]],decls:3,vars:2,consts:[[1,"container-fluid"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"ngIf"],["role","alert",1,"alert","alert-danger"],["icon","exclamation-triangle"],[1,"alert-link",3,"click"],[1,"card","mb-2"],[1,"table-responsive"],[1,"table","mb-0"],[2,"line-height","1.3"],[1,"d-flex","flex-wrap","justify-content-center","text-monospace"],[1,"pr-2"],[1,"text-muted"],[1,"badge"],["class","pr-2",4,"ngFor","ngForOf"],["type","secondary",3,"value"],["class","alert alert-warning mb-2","role","alert",4,"ngIf"],[1,"card"],[1,"table","table-striped","table-hover","mb-0"],[1,"border-0"],[1,"btn","btn-sm","btn-outline-info",2,"margin-top","-5px","margin-bottom","-5px",3,"click"],["icon","sync-alt"],["ngFor","",3,"ngForOf","ngForTrackBy"],[3,"value"],["role","alert",1,"alert","alert-warning","mb-2"],["href","https://github.com/xmrig/xmrig/releases","target","_blank",1,"alert-link"],[1,"font-weight-bold",3,"click"],[1,"badge","badge-primary","s"],[1,"badge","badge-info","s"],[1,"badge","badge-dark","s"],["style","line-height: 1.3;",4,"ngIf"],[4,"ngIf"],["class","btn btn-sm btn-info text-white",4,"ngIf"],[1,"d-flex","flex-wrap","text-monospace"],[1,"badge","badge-danger"],["class","badge badge-success s",4,"ngIf"],[1,"text-muted","s"],[1,"badge","badge-info"],[1,"badge","badge-success","s"],[1,"btn","btn-sm","btn-info","text-white"],["icon","spinner",3,"spin"],["class","btn btn-sm btn-warning text-white",3,"click",4,"ngIf"],["class","btn btn-sm btn-success text-white",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-warning","text-white",3,"click"],["icon","pause"],[1,"btn","btn-sm","btn-success","text-white",3,"click"],["icon","play"]],template:function(t,n){1&t&&(b.Qb(0,"div",0),b.wc(1,g,6,0,"div",1),b.wc(2,F,60,39,"ng-template",2),b.Pb()),2&t&&(b.zb(1),b.ic("ngIf",0===n.runtime.workers.length),b.zb(1),b.ic("ngIf",n.runtime.workers.length>0))},directives:[e.k,u.b,e.j,m.a],pipes:[d.b],styles:["small.s[_ngcontent-%COMP%], span.s[_ngcontent-%COMP%]{margin-right:4px}"]}),t})()}];let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[e.c,r.e,a.a,r.e.forChild(L)]]}),t})()}}]);