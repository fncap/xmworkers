(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{c1WO:function(t,e,r){"use strict";r.r(e),r.d(e,"WorkerEditPageModule",function(){return k});var o=r("ofXK"),n=r("tyNb"),i=r("j1ZV"),c=r("mrSG"),b=r("fXoL"),l=r("owMh"),s=r("tjLH"),a=r("OuSN"),u=r("3Pt+"),d=r("pMdk"),m=r("1kSV"),f=r("6NWb");function h(t,e){if(1&t){const t=b.Rb();b.Qb(0,"div",15),b.Qb(1,"h5",16),b.yc(2,"Delete worker"),b.Pb(),b.Qb(3,"button",17),b.ac("click",function(){return e.$implicit.close()}),b.Qb(4,"span"),b.yc(5,"\xd7"),b.Pb(),b.Pb(),b.Pb(),b.Qb(6,"div",18),b.Mb(7,"fa-icon",19),b.yc(8," Are you sure you want to delete worker "),b.Qb(9,"b"),b.yc(10),b.Pb(),b.yc(11,"? "),b.Pb(),b.Qb(12,"div",20),b.Qb(13,"button",21),b.ac("click",function(){return b.rc(t),b.cc().delete()}),b.Mb(14,"fa-icon",4),b.yc(15," Delete worker "),b.Pb(),b.Qb(16,"button",22),b.ac("click",function(){return e.$implicit.close()}),b.yc(17," Close "),b.Pb(),b.Pb()}if(2&t){const t=b.cc();b.zb(10),b.zc(null==t.worker?null:t.worker.id)}}const p=[{path:"",component:(()=>{class t{constructor(t,e,r,o,n,i,c,b){this.runtime=t,this.events=e,this.ar=r,this.g=o,this.router=n,this.fb=i,this.api=c,this.modalService=b}ngOnInit(){this.worker=this.runtime.viewing,this.form=this.fb.group({url:[this.worker.url],token:[this.worker.token]})}submit(t){return Object(c.a)(this,void 0,void 0,function*(){t.preventDefault(),this.form.valid&&this.api.call(`${this.form.get("url").value}/1/summary`,this.form.get("token").value).then(t=>{this.runtime.add({url:this.form.get("url").value,token:this.form.get("token").value,id:t.worker_id,version:t.version}),this.g.alert("Worker was successfully changed.","Success!","success")},t=>{console.error(t),this.g.alert("Failed to fetch.","Oh!","error")})})}delete(){this.runtime.remove(this.worker.url),this.router.navigateByUrl("/"),this.modalService.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(l.a),b.Lb(s.a),b.Lb(n.a),b.Lb(a.a),b.Lb(n.c),b.Lb(u.b),b.Lb(d.a),b.Lb(m.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-worker-edit"]],decls:20,vars:1,consts:[[1,"card","mb-3"],[3,"formGroup","ngSubmit"],[1,"card-header"],["type","button",1,"btn","btn-danger","float-right",3,"click"],["icon","trash-alt"],["type","submit",1,"btn","btn-primary","float-right","mr-2"],["icon","check"],[1,"card-body"],[1,"form-group"],["for","url"],["type","url","formControlName","url","placeholder","http://",1,"form-control","autofocus"],[1,"form-group","mb-2"],["for","token"],["type","password","formControlName","token","placeholder","Optional",1,"form-control"],["modal",""],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"alert","alert-warning","rounded-0","mb-0"],["icon","exclamation-triangle"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary","hidden-xs",3,"click"]],template:function(t,e){if(1&t){const t=b.Rb();b.Qb(0,"div",0),b.Qb(1,"form",1),b.ac("ngSubmit",function(t){return e.submit(t)}),b.Qb(2,"h5",2),b.yc(3,"Edit worker"),b.Qb(4,"button",3),b.ac("click",function(){b.rc(t);const r=b.qc(19);return e.modalService.open(r,{size:"lg"})}),b.Mb(5,"fa-icon",4),b.Pb(),b.Qb(6,"button",5),b.Mb(7,"fa-icon",6),b.yc(8," Apply "),b.Pb(),b.Pb(),b.Qb(9,"div",7),b.Qb(10,"div",8),b.Qb(11,"label",9),b.yc(12,"URL"),b.Pb(),b.Mb(13,"input",10),b.Pb(),b.Qb(14,"div",11),b.Qb(15,"label",12),b.yc(16,"Access token"),b.Pb(),b.Mb(17,"input",13),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.wc(18,h,18,1,"ng-template",null,14,b.xc)}2&t&&(b.zb(1),b.ic("formGroup",e.form))},directives:[u.n,u.i,u.d,f.b,u.a,u.h,u.c],styles:[".s[_ngcontent-%COMP%]{margin-right:4px}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[o.c,i.a,u.e,u.m,n.e.forChild(p)]]}),t})()}}]);