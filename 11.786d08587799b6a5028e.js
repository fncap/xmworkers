(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{SljM:function(r,e,n){"use strict";n.r(e),n.d(e,"WorkerSummaryPageModule",function(){return x});var o=n("ofXK"),a=n("tyNb"),s=n("j1ZV"),u=n("fXoL"),b=n("owMh"),l=n("tjLH"),t=n("OuSN"),m=n("1kSV"),c=n("6NWb"),i=n("QI0v");function y(r,e){if(1&r&&(u.Qb(0,"span",12),u.yc(1),u.Pb()),2&r){const r=u.cc();u.zb(1),u.zc(r.worker.summary.kind)}}function k(r,e){1&r&&(u.Qb(0,"div",13),u.Mb(1,"fa-icon",14),u.yc(2," Failed to fetch summary information. "),u.Pb())}function w(r,e){if(1&r){const r=u.Rb();u.Qb(0,"div",15),u.Qb(1,"table",16),u.Qb(2,"tbody"),u.Qb(3,"tr"),u.Qb(4,"td",17),u.yc(5,"Version"),u.Pb(),u.Qb(6,"td",18),u.Qb(7,"span",19),u.yc(8),u.Pb(),u.Qb(9,"span",20),u.yc(10),u.Pb(),u.Qb(11,"small",21),u.yc(12),u.Pb(),u.Pb(),u.Pb(),u.Qb(13,"tr"),u.Qb(14,"td",21),u.yc(15,"CPU"),u.Pb(),u.Qb(16,"td"),u.Qb(17,"a",22),u.ac("click",function(){u.rc(r);const e=u.cc(),n=u.qc(13);return e.modalService.open(n)}),u.yc(18),u.Pb(),u.Qb(19,"span",20),u.yc(20,"AES"),u.Pb(),u.Pb(),u.Pb(),u.Qb(21,"tr"),u.Qb(22,"td",21),u.yc(23,"Uptime"),u.Pb(),u.Qb(24,"td"),u.Qb(25,"span",23),u.yc(26),u.Pb(),u.Pb(),u.Pb(),u.Qb(27,"tr"),u.Qb(28,"td"),u.yc(29,"Donate"),u.Pb(),u.Qb(30,"td"),u.yc(31),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()}if(2&r){const r=u.cc();u.zb(8),u.zc(r.worker.summary.version),u.zb(1),u.Db("badge-success",r.worker.summary.cpu.x64)("badge-danger",!r.worker.summary.cpu.x64),u.zb(1),u.zc((r.worker.summary.cpu.x64?"64":"32")+"-bit"),u.zb(2),u.zc(r.worker.summary.ua),u.zb(6),u.zc(r.worker.summary.cpu.brand),u.zb(1),u.Db("badge-success",r.worker.summary.cpu.aes)("badge-danger",!r.worker.summary.cpu.aes),u.zb(6),u.ic("title",r.worker.summary.uptime+"s"),u.zb(1),u.zc(r.datetime(r.worker.summary.uptime)),u.zb(1),u.Db("table-danger",r.worker.summary.donate_level<1),u.zb(1),u.Db("text-muted",r.worker.summary.donate_level>=1)("text-danger",r.worker.summary.donate_level<1),u.zb(2),u.Db("text-success",r.worker.summary.donate_level>=1)("text-danger",r.worker.summary.donate_level<1),u.zb(1),u.zc(r.worker.summary.donate_level+"%")}}function d(r,e){if(1&r&&(u.Qb(0,"small",28),u.yc(1),u.Pb(),u.Mb(2,"hashrate",37)),2&r){const r=e.$implicit,n=e.index,o=u.cc(2);u.zb(1),u.zc(r),u.zb(1),u.ic("value",null==o.worker||null==o.worker.summary||null==o.worker.summary.hashrate?null:o.worker.summary.hashrate.total[n])}}function p(r,e){if(1&r&&(u.Qb(0,"span",38),u.yc(1),u.Pb()),2&r){const r=u.cc(2);u.zb(1),u.zc(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.tls)}}function g(r,e){1&r&&u.Mb(0,"fa-icon",39)}const P=function(){return["10s","1m","15m"]};function Q(r,e){if(1&r){const r=u.Rb();u.Qb(0,"div",0),u.Qb(1,"h5",1),u.yc(2," Mining"),u.Qb(3,"div",3),u.Qb(4,"a",24),u.ac("click",function(){return u.rc(r),u.cc().events.publish("menu:open","/backends")}),u.Mb(5,"fa-icon",25),u.Pb(),u.Pb(),u.Pb(),u.Qb(6,"div",15),u.Qb(7,"table",16),u.Qb(8,"tbody"),u.Qb(9,"tr"),u.Qb(10,"td",17),u.yc(11,"Hashrate"),u.Pb(),u.Qb(12,"td",26),u.wc(13,d,3,2,"ng-template",27),u.Qb(14,"small",28),u.yc(15,"highest"),u.Pb(),u.Mb(16,"hashrate",29),u.Pb(),u.Pb(),u.Qb(17,"tr"),u.Qb(18,"td",21),u.yc(19,"Results"),u.Pb(),u.Qb(20,"td"),u.Qb(21,"small",28),u.yc(22,"accepted"),u.Pb(),u.Qb(23,"span",20),u.yc(24),u.Pb(),u.Qb(25,"small",28),u.yc(26,"rejected"),u.Pb(),u.Qb(27,"span",20),u.yc(28),u.Pb(),u.Qb(29,"small",28),u.yc(30,"avg time"),u.Pb(),u.Qb(31,"span",20),u.yc(32),u.Pb(),u.Qb(33,"small",28),u.yc(34,"hashes total"),u.Pb(),u.Qb(35,"span",30),u.yc(36),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(37,"div",0),u.Qb(38,"h5",1),u.yc(39,"Connection"),u.Pb(),u.Qb(40,"div",15),u.Qb(41,"table",16),u.Qb(42,"tbody"),u.Qb(43,"tr"),u.Qb(44,"td",17),u.yc(45,"Pool"),u.Pb(),u.Qb(46,"td",26),u.Qb(47,"b",31),u.yc(48),u.Pb(),u.wc(49,p,2,1,"span",32),u.Qb(50,"small",28),u.yc(51,"diff"),u.Pb(),u.Qb(52,"span",33),u.yc(53),u.Pb(),u.Qb(54,"small",28),u.yc(55,"algo"),u.Pb(),u.Qb(56,"span",34),u.yc(57),u.Pb(),u.Qb(58,"small",28),u.yc(59,"ping"),u.Pb(),u.Qb(60,"span",35),u.wc(61,g,1,0,"fa-icon",36),u.yc(62),u.Pb(),u.Pb(),u.Pb(),u.Qb(63,"tr"),u.Qb(64,"td",21),u.yc(65,"Uptime"),u.Pb(),u.Qb(66,"td"),u.Qb(67,"span",23),u.yc(68),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()}if(2&r){const r=u.cc();u.Db("border-danger",!r.isMiningOk(r.worker.summary)),u.zb(1),u.Db("bg-danger",!r.isMiningOk(r.worker.summary))("text-white",!r.isMiningOk(r.worker.summary)),u.zb(3),u.Db("btn-outline-light",!r.isMiningOk(r.worker.summary))("btn-outline-primary",r.isMiningOk(r.worker.summary)),u.zb(9),u.ic("ngForOf",u.lc(50,P)),u.zb(3),u.ic("value",null==r.worker||null==r.worker.summary||null==r.worker.summary.hashrate?null:r.worker.summary.hashrate.highest),u.zb(7),u.Db("badge-success",r.worker.summary.results.shares_good)("badge-info",!r.worker.summary.results.shares_good),u.zb(1),u.zc(r.worker.summary.results.shares_good),u.zb(3),u.Db("badge-success",!(r.worker.summary.results.shares_total-r.worker.summary.results.shares_good))("badge-danger",r.worker.summary.results.shares_total-r.worker.summary.results.shares_good),u.zb(1),u.zc(r.worker.summary.results.shares_total-r.worker.summary.results.shares_good),u.zb(3),u.Db("badge-info",0===r.worker.summary.results.avg_time||r.worker.summary.results.avg_time>=10&&r.worker.summary.results.avg_time<=120)("badge-warning",r.worker.summary.results.avg_time>0&&(r.worker.summary.results.avg_time<10||r.worker.summary.results.avg_time>120)),u.zb(1),u.zc(0===r.worker.summary.results.avg_time?"n/a":r.worker.summary.results.avg_time+"s"),u.zb(4),u.zc(r.worker.summary.results.hashes_total),u.zb(1),u.Db("border-danger",!r.isConnectionOk(r.worker.summary)),u.zb(1),u.Db("bg-danger",!r.isConnectionOk(r.worker.summary))("text-white",!r.isConnectionOk(r.worker.summary)),u.zb(10),u.zc(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.pool),u.zb(1),u.ic("ngIf",!(null==r.worker.summary||null==r.worker.summary.connection||!r.worker.summary.connection.tls)),u.zb(4),u.zc(null==r.worker.summary||null==r.worker.summary.results?null:r.worker.summary.results.diff_current),u.zb(4),u.zc(null==r.worker.summary||null==r.worker.summary.algo?null:r.worker.summary.algo.replace("cryptonight","cn")),u.zb(3),u.Db("badge-info",0===(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping))("badge-success",(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)<100)("badge-warning",(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)>=100&&(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)<500)("badge-danger",(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)>=500),u.zb(1),u.ic("ngIf",0===(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)),u.zb(1),u.Ac(" ",(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)>0?(null==r.worker.summary||null==r.worker.summary.connection?null:r.worker.summary.connection.ping)+"ms":""," "),u.zb(5),u.ic("title",r.worker.summary.uptime+"s"),u.zb(1),u.zc(r.datetime(r.worker.summary.uptime))}}function h(r,e){if(1&r&&(u.Qb(0,"div",40),u.Qb(1,"h5",41),u.yc(2),u.Pb(),u.Qb(3,"button",42),u.ac("click",function(){return e.$implicit.close()}),u.Qb(4,"span"),u.yc(5,"\xd7"),u.Pb(),u.Pb(),u.Pb(),u.Qb(6,"div",43),u.Qb(7,"table",44),u.Qb(8,"tbody"),u.Qb(9,"tr"),u.Qb(10,"td",45),u.yc(11,"features"),u.Pb(),u.Qb(12,"td",46),u.Qb(13,"span",20),u.yc(14,"x64"),u.Pb(),u.Qb(15,"span",20),u.yc(16,"AES"),u.Pb(),u.Qb(17,"span",35),u.yc(18,"AVX2"),u.Pb(),u.Pb(),u.Pb(),u.Qb(19,"tr"),u.Qb(20,"td",47),u.yc(21,"cache"),u.Pb(),u.Qb(22,"td",48),u.Qb(23,"span",28),u.yc(24,"L2"),u.Pb(),u.Qb(25,"span",33),u.yc(26),u.Pb(),u.Qb(27,"span",28),u.yc(28,"L3"),u.Pb(),u.Qb(29,"span",33),u.yc(30),u.Pb(),u.Pb(),u.Pb(),u.Qb(31,"tr"),u.Qb(32,"td",47),u.yc(33,"cores"),u.Pb(),u.Qb(34,"td"),u.Qb(35,"span",49),u.yc(36),u.Pb(),u.Pb(),u.Qb(37,"td",47),u.yc(38,"threads"),u.Pb(),u.Qb(39,"td"),u.Qb(40,"span",49),u.yc(41),u.Pb(),u.Pb(),u.Pb(),u.Qb(42,"tr"),u.Qb(43,"td",47),u.yc(44,"packages"),u.Pb(),u.Qb(45,"td"),u.Qb(46,"span",30),u.yc(47),u.Pb(),u.Pb(),u.Qb(48,"td",47),u.yc(49,"NUMA nodes"),u.Pb(),u.Qb(50,"td"),u.Qb(51,"span",20),u.yc(52),u.Pb(),u.Pb(),u.Pb(),u.Qb(53,"tr"),u.Qb(54,"td",47),u.yc(55,"backend"),u.Pb(),u.Qb(56,"td",48),u.yc(57),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(58,"div",50),u.Qb(59,"button",51),u.ac("click",function(){return e.$implicit.close()}),u.yc(60,"Close"),u.Pb(),u.Pb()),2&r){const r=u.cc();u.zb(2),u.zc(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.brand),u.zb(11),u.Db("badge-success",null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.x64)("badge-danger",!(null!=r.worker&&null!=r.worker.summary&&null!=r.worker.summary.cpu&&r.worker.summary.cpu.x64)),u.zb(2),u.Db("badge-success",null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.aes)("badge-danger",!(null!=r.worker&&null!=r.worker.summary&&null!=r.worker.summary.cpu&&r.worker.summary.cpu.aes)),u.zb(2),u.Db("badge-success",null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.avx2)("badge-danger",!(null!=r.worker&&null!=r.worker.summary&&null!=r.worker.summary.cpu&&r.worker.summary.cpu.avx2)),u.zb(9),u.zc(r.g.formatBytes(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.l2)),u.zb(4),u.zc(r.g.formatBytes(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.l3)),u.zb(6),u.zc(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.cores),u.zb(5),u.zc(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.threads),u.zb(6),u.zc(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.packages),u.zb(4),u.Db("badge-info",(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.nodes)>0)("badge-warning",0===(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.nodes)),u.zb(1),u.zc(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.nodes),u.zb(5),u.zc(null==r.worker||null==r.worker.summary||null==r.worker.summary.cpu?null:r.worker.summary.cpu.backend)}}let z=(()=>{class r{constructor(r,e,n,o,a,s){this.runtime=r,this.events=e,this.ar=n,this.g=o,this.router=a,this.modalService=s}ngOnInit(){this.worker=this.runtime.viewing}isMiningOk(r){var e,n;return!(!(null==r?void 0:r.hashrate)||!(null===(e=r.hashrate)||void 0===e?void 0:e.total)||!r.hashrate.total[0]||!(r.hashrate.total[0]>=.01)||!(null===(n=null==r?void 0:r.results)||void 0===n?void 0:n.shares_total)&&r.results.shares_total-r.results.shares_good)}isConnectionOk(r){var e,n;return!!(null==r?void 0:r.connection)&&!!(null===(e=null==r?void 0:r.connection)||void 0===e?void 0:e.uptime)&&(null===(n=null==r?void 0:r.connection)||void 0===n?void 0:n.uptime)>0}datetime(r){if(0===r)return"unknown";let e=Math.floor(r/60);const n=r%60;let o=Math.floor(e/60);e%=60;const a=Math.floor(o/24);o%=24;let s="";return a>0&&(s+=`${a} day${a>1?"s":""}, `),o>0&&(s+=`${o} hour${o>1?"s":""}, `),e>0&&(s+=`${e} minute${e>1?"s":""}, `),n>0&&(s+=`${n} second${n>1?"s":""}, `),s.substr(0,s.length-2)}refresh(){this.runtime.getSummary(this.worker)}}return r.\u0275fac=function(e){return new(e||r)(u.Lb(b.a),u.Lb(l.a),u.Lb(a.a),u.Lb(t.a),u.Lb(a.c),u.Lb(m.a))},r.\u0275cmp=u.Fb({type:r,selectors:[["app-worker-summary"]],decls:14,vars:18,consts:[[1,"card","mb-3"],[1,"card-header"],["class","badge badge-primary",4,"ngIf"],[1,"btn-group","float-right"],["title","Edit worker",1,"btn",3,"click"],["icon","pen"],["title","Refresh",1,"btn",3,"click"],["icon","sync-alt"],["class","card-body text-danger",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"ngIf"],["modal",""],[1,"badge","badge-primary"],[1,"card-body","text-danger"],["icon","exclamation-triangle"],[1,"table-responsive"],[1,"table","table-hover","mb-0"],[1,"border-top-0","text-muted",2,"width","120px"],[1,"border-top-0","font-weight-bold"],[1,"badge","badge-primary","s"],[1,"badge","s"],[1,"text-muted"],[1,"s",3,"click"],[3,"title"],["title","Backends",1,"btn",3,"click"],["icon","microchip"],[1,"border-top-0"],["ngFor","",3,"ngForOf"],[1,"text-muted","s"],["type","secondary",1,"s",3,"value"],[1,"badge","badge-info"],[1,"s"],["class","badge badge-success s",4,"ngIf"],[1,"badge","badge-info","s"],[1,"badge","badge-dark","s"],[1,"badge"],["icon","infinity",4,"ngIf"],[1,"s",3,"value"],[1,"badge","badge-success","s"],["icon","infinity"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body","p-0"],[1,"table","table-hover","table-sm","mb-0"],[1,"border-top-0","text-muted","pl-3",2,"width","120px"],["colspan","3",1,"border-top-0"],[1,"text-muted","pl-3",2,"width","120px"],["colspan","3"],[1,"badge","badge-dark"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","hidden-xs",3,"click"]],template:function(r,e){1&r&&(u.Qb(0,"div",0),u.Qb(1,"h5",1),u.yc(2,"Worker "),u.wc(3,y,2,1,"span",2),u.Qb(4,"div",3),u.Qb(5,"a",4),u.ac("click",function(){return e.events.publish("menu:open","/edit")}),u.Mb(6,"fa-icon",5),u.Pb(),u.Qb(7,"button",6),u.ac("click",function(){return e.refresh()}),u.Mb(8,"fa-icon",7),u.Pb(),u.Pb(),u.Pb(),u.wc(9,k,3,0,"div",8),u.wc(10,w,32,25,"div",9),u.Pb(),u.wc(11,Q,69,51,"ng-template",10),u.wc(12,h,61,24,"ng-template",null,11,u.xc)),2&r&&(u.Db("border-danger",!(null!=e.worker&&e.worker.summary)),u.zb(1),u.Db("bg-danger",!(null!=e.worker&&e.worker.summary))("text-white",!(null!=e.worker&&e.worker.summary)),u.zb(2),u.ic("ngIf",!(null==e.worker||!e.worker.summary)&&"miner"!==e.worker.summary.kind),u.zb(2),u.Db("btn-outline-primary",!(null==e.worker||!e.worker.summary))("btn-primary",!(null!=e.worker&&e.worker.summary)),u.zb(2),u.Db("btn-outline-primary",!(null==e.worker||!e.worker.summary))("btn-primary",!(null!=e.worker&&e.worker.summary)),u.zb(2),u.ic("ngIf",!(null!=e.worker&&e.worker.summary)),u.zb(1),u.ic("ngIf",!(null==e.worker||!e.worker.summary)),u.zb(1),u.ic("ngIf",!(null==e.worker||!e.worker.summary)))},directives:[o.k,c.b,o.j,i.a],styles:[".s[_ngcontent-%COMP%]{margin-right:4px}"]}),r})();var f=n("3Pt+");const v=[{path:"",component:z}];let x=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.Jb({type:r}),r.\u0275inj=u.Ib({imports:[[o.c,s.a,f.e,a.e.forChild(v)]]}),r})()}}]);